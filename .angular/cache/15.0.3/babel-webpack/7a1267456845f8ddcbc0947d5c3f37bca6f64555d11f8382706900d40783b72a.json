{"ast":null,"code":"import _toConsumableArray from \"C:/Users/User/Projects/meanstack/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"C:/Users/User/Projects/meanstack/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:/Users/User/Projects/meanstack/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/User/Projects/meanstack/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nexport var Subscription = /*#__PURE__*/function () {\n  function Subscription(initialTeardown) {\n    _classCallCheck(this, Subscription);\n    this.initialTeardown = initialTeardown;\n    this.closed = false;\n    this._parentage = null;\n    this._finalizers = null;\n  }\n  _createClass(Subscription, [{\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      var errors;\n      if (!this.closed) {\n        this.closed = true;\n        var _parentage = this._parentage;\n        if (_parentage) {\n          this._parentage = null;\n          if (Array.isArray(_parentage)) {\n            var _iterator = _createForOfIteratorHelper(_parentage),\n              _step;\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var parent = _step.value;\n                parent.remove(this);\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n          } else {\n            _parentage.remove(this);\n          }\n        }\n        var initialFinalizer = this.initialTeardown;\n        if (isFunction(initialFinalizer)) {\n          try {\n            initialFinalizer();\n          } catch (e) {\n            errors = e instanceof UnsubscriptionError ? e.errors : [e];\n          }\n        }\n        var _finalizers = this._finalizers;\n        if (_finalizers) {\n          this._finalizers = null;\n          var _iterator2 = _createForOfIteratorHelper(_finalizers),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var finalizer = _step2.value;\n              try {\n                execFinalizer(finalizer);\n              } catch (err) {\n                errors = errors !== null && errors !== void 0 ? errors : [];\n                if (err instanceof UnsubscriptionError) {\n                  errors = [].concat(_toConsumableArray(errors), _toConsumableArray(err.errors));\n                } else {\n                  errors.push(err);\n                }\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n        if (errors) {\n          throw new UnsubscriptionError(errors);\n        }\n      }\n    }\n  }, {\n    key: \"add\",\n    value: function add(teardown) {\n      var _a;\n      if (teardown && teardown !== this) {\n        if (this.closed) {\n          execFinalizer(teardown);\n        } else {\n          if (teardown instanceof Subscription) {\n            if (teardown.closed || teardown._hasParent(this)) {\n              return;\n            }\n            teardown._addParent(this);\n          }\n          (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n        }\n      }\n    }\n  }, {\n    key: \"_hasParent\",\n    value: function _hasParent(parent) {\n      var _parentage = this._parentage;\n      return _parentage === parent || Array.isArray(_parentage) && _parentage.includes(parent);\n    }\n  }, {\n    key: \"_addParent\",\n    value: function _addParent(parent) {\n      var _parentage = this._parentage;\n      this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    }\n  }, {\n    key: \"_removeParent\",\n    value: function _removeParent(parent) {\n      var _parentage = this._parentage;\n      if (_parentage === parent) {\n        this._parentage = null;\n      } else if (Array.isArray(_parentage)) {\n        arrRemove(_parentage, parent);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(teardown) {\n      var _finalizers = this._finalizers;\n      _finalizers && arrRemove(_finalizers, teardown);\n      if (teardown instanceof Subscription) {\n        teardown._removeParent(this);\n      }\n    }\n  }]);\n  return Subscription;\n}();\nSubscription.EMPTY = function () {\n  var empty = new Subscription();\n  empty.closed = true;\n  return empty;\n}();\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n  return value instanceof Subscription || value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe);\n}\nfunction execFinalizer(finalizer) {\n  if (isFunction(finalizer)) {\n    finalizer();\n  } else {\n    finalizer.unsubscribe();\n  }\n}","map":{"version":3,"names":["isFunction","UnsubscriptionError","arrRemove","Subscription","initialTeardown","closed","_parentage","_finalizers","errors","Array","isArray","parent","remove","initialFinalizer","e","finalizer","execFinalizer","err","push","teardown","_a","_hasParent","_addParent","includes","_removeParent","EMPTY","empty","EMPTY_SUBSCRIPTION","isSubscription","value","add","unsubscribe"],"sources":["C:/Users/User/Projects/meanstack/node_modules/rxjs/dist/esm/internal/Subscription.js"],"sourcesContent":["import { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nexport class Subscription {\n    constructor(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    unsubscribe() {\n        let errors;\n        if (!this.closed) {\n            this.closed = true;\n            const { _parentage } = this;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    for (const parent of _parentage) {\n                        parent.remove(this);\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            const { initialTeardown: initialFinalizer } = this;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            const { _finalizers } = this;\n            if (_finalizers) {\n                this._finalizers = null;\n                for (const finalizer of _finalizers) {\n                    try {\n                        execFinalizer(finalizer);\n                    }\n                    catch (err) {\n                        errors = errors !== null && errors !== void 0 ? errors : [];\n                        if (err instanceof UnsubscriptionError) {\n                            errors = [...errors, ...err.errors];\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    }\n    add(teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    }\n    _hasParent(parent) {\n        const { _parentage } = this;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    }\n    _addParent(parent) {\n        const { _parentage } = this;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    }\n    _removeParent(parent) {\n        const { _parentage } = this;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    }\n    remove(teardown) {\n        const { _finalizers } = this;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    }\n}\nSubscription.EMPTY = (() => {\n    const empty = new Subscription();\n    empty.closed = true;\n    return empty;\n})();\nexport const EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}