{"ast":null,"code":"import { Observable } from '../Observable';\nimport { argsArgArrayOrObject } from '../util/argsArgArrayOrObject';\nimport { innerFrom } from './innerFrom';\nimport { popResultSelector } from '../util/args';\nimport { createOperatorSubscriber } from '../operators/OperatorSubscriber';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nimport { createObject } from '../util/createObject';\nexport function forkJoin() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  var resultSelector = popResultSelector(args);\n  var _argsArgArrayOrObject = argsArgArrayOrObject(args),\n    sources = _argsArgArrayOrObject.args,\n    keys = _argsArgArrayOrObject.keys;\n  var result = new Observable(function (subscriber) {\n    var length = sources.length;\n    if (!length) {\n      subscriber.complete();\n      return;\n    }\n    var values = new Array(length);\n    var remainingCompletions = length;\n    var remainingEmissions = length;\n    var _loop = function _loop(sourceIndex) {\n      var hasValue = false;\n      innerFrom(sources[sourceIndex]).subscribe(createOperatorSubscriber(subscriber, function (value) {\n        if (!hasValue) {\n          hasValue = true;\n          remainingEmissions--;\n        }\n        values[sourceIndex] = value;\n      }, function () {\n        return remainingCompletions--;\n      }, undefined, function () {\n        if (!remainingCompletions || !hasValue) {\n          if (!remainingEmissions) {\n            subscriber.next(keys ? createObject(keys, values) : values);\n          }\n          subscriber.complete();\n        }\n      }));\n    };\n    for (var sourceIndex = 0; sourceIndex < length; sourceIndex++) {\n      _loop(sourceIndex);\n    }\n  });\n  return resultSelector ? result.pipe(mapOneOrManyArgs(resultSelector)) : result;\n}","map":{"version":3,"names":["Observable","argsArgArrayOrObject","innerFrom","popResultSelector","createOperatorSubscriber","mapOneOrManyArgs","createObject","forkJoin","args","resultSelector","sources","keys","result","subscriber","length","complete","values","Array","remainingCompletions","remainingEmissions","sourceIndex","hasValue","subscribe","value","undefined","next","pipe"],"sources":["C:/Users/User/Projects/meanstack/node_modules/rxjs/dist/esm/internal/observable/forkJoin.js"],"sourcesContent":["import { Observable } from '../Observable';\nimport { argsArgArrayOrObject } from '../util/argsArgArrayOrObject';\nimport { innerFrom } from './innerFrom';\nimport { popResultSelector } from '../util/args';\nimport { createOperatorSubscriber } from '../operators/OperatorSubscriber';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nimport { createObject } from '../util/createObject';\nexport function forkJoin(...args) {\n    const resultSelector = popResultSelector(args);\n    const { args: sources, keys } = argsArgArrayOrObject(args);\n    const result = new Observable((subscriber) => {\n        const { length } = sources;\n        if (!length) {\n            subscriber.complete();\n            return;\n        }\n        const values = new Array(length);\n        let remainingCompletions = length;\n        let remainingEmissions = length;\n        for (let sourceIndex = 0; sourceIndex < length; sourceIndex++) {\n            let hasValue = false;\n            innerFrom(sources[sourceIndex]).subscribe(createOperatorSubscriber(subscriber, (value) => {\n                if (!hasValue) {\n                    hasValue = true;\n                    remainingEmissions--;\n                }\n                values[sourceIndex] = value;\n            }, () => remainingCompletions--, undefined, () => {\n                if (!remainingCompletions || !hasValue) {\n                    if (!remainingEmissions) {\n                        subscriber.next(keys ? createObject(keys, values) : values);\n                    }\n                    subscriber.complete();\n                }\n            }));\n        }\n    });\n    return resultSelector ? result.pipe(mapOneOrManyArgs(resultSelector)) : result;\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAASC,oBAAoB,QAAQ,8BAA8B;AACnE,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,iBAAiB,QAAQ,cAAc;AAChD,SAASC,wBAAwB,QAAQ,iCAAiC;AAC1E,SAASC,gBAAgB,QAAQ,0BAA0B;AAC3D,SAASC,YAAY,QAAQ,sBAAsB;AACnD,OAAO,SAASC,QAAQ,GAAU;EAAA,kCAANC,IAAI;IAAJA,IAAI;EAAA;EAC5B,IAAMC,cAAc,GAAGN,iBAAiB,CAACK,IAAI,CAAC;EAC9C,4BAAgCP,oBAAoB,CAACO,IAAI,CAAC;IAA5CE,OAAO,yBAAbF,IAAI;IAAWG,IAAI,yBAAJA,IAAI;EAC3B,IAAMC,MAAM,GAAG,IAAIZ,UAAU,CAAC,UAACa,UAAU,EAAK;IAC1C,IAAQC,MAAM,GAAKJ,OAAO,CAAlBI,MAAM;IACd,IAAI,CAACA,MAAM,EAAE;MACTD,UAAU,CAACE,QAAQ,EAAE;MACrB;IACJ;IACA,IAAMC,MAAM,GAAG,IAAIC,KAAK,CAACH,MAAM,CAAC;IAChC,IAAII,oBAAoB,GAAGJ,MAAM;IACjC,IAAIK,kBAAkB,GAAGL,MAAM;IAAC,2BACvBM,WAAW;MAChB,IAAIC,QAAQ,GAAG,KAAK;MACpBnB,SAAS,CAACQ,OAAO,CAACU,WAAW,CAAC,CAAC,CAACE,SAAS,CAAClB,wBAAwB,CAACS,UAAU,EAAE,UAACU,KAAK,EAAK;QACtF,IAAI,CAACF,QAAQ,EAAE;UACXA,QAAQ,GAAG,IAAI;UACfF,kBAAkB,EAAE;QACxB;QACAH,MAAM,CAACI,WAAW,CAAC,GAAGG,KAAK;MAC/B,CAAC,EAAE;QAAA,OAAML,oBAAoB,EAAE;MAAA,GAAEM,SAAS,EAAE,YAAM;QAC9C,IAAI,CAACN,oBAAoB,IAAI,CAACG,QAAQ,EAAE;UACpC,IAAI,CAACF,kBAAkB,EAAE;YACrBN,UAAU,CAACY,IAAI,CAACd,IAAI,GAAGL,YAAY,CAACK,IAAI,EAAEK,MAAM,CAAC,GAAGA,MAAM,CAAC;UAC/D;UACAH,UAAU,CAACE,QAAQ,EAAE;QACzB;MACJ,CAAC,CAAC,CAAC;IAAC;IAfR,KAAK,IAAIK,WAAW,GAAG,CAAC,EAAEA,WAAW,GAAGN,MAAM,EAAEM,WAAW,EAAE,EAAE;MAAA,MAAtDA,WAAW;IAgBpB;EACJ,CAAC,CAAC;EACF,OAAOX,cAAc,GAAGG,MAAM,CAACc,IAAI,CAACrB,gBAAgB,CAACI,cAAc,CAAC,CAAC,GAAGG,MAAM;AAClF"},"metadata":{},"sourceType":"module","externalDependencies":[]}